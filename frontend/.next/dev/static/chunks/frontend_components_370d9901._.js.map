{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Bots/Git/envio_sla_vista/frontend/components/DashboardResumoClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype ResumoData = {\n  finalizadas: number;\n  nao_realizadas: number;\n  em_aberto: number;\n  iniciadas: number;\n};\n\ntype ResumoPayload = {\n  data: ResumoData | null;\n  periodo?: {\n    descricao?: string;\n    inicio?: string;\n    fim?: string;\n    label?: string;\n  };\n};\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE_URL ?? process.env.API_BASE_URL ?? \"http://localhost:5000/api\";\nconst DEFAULT_DIRETOR = \"MARCOS NASCIMENTO PEDREIRA\";\n\nexport default function DashboardResumoClient() {\n  const [data, setData] = useState<ResumoData | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [referencia, setReferencia] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    async function fetchResumo() {\n      try {\n        const params = new URLSearchParams({ diretor_executivo: DEFAULT_DIRETOR });\n        const res = await fetch(`${API_BASE}/dashboard/resumo?${params.toString()}`, {\n          cache: \"no-store\"\n        });\n        if (!res.ok) {\n          throw new Error(await res.text());\n        }\n        const payload: ResumoPayload = await res.json();\n        if (!cancelled) {\n          setData(payload.data ?? null);\n          setReferencia(payload.periodo?.label ?? payload.periodo?.descricao ?? null);\n          setIsLoading(false);\n        }\n      } catch (err: any) {\n        if (!cancelled) {\n          setError(\n            err?.message ??\n              \"Não foi possível carregar os indicadores de SLA. Tente novamente mais tarde.\"\n          );\n          setIsLoading(false);\n        }\n      }\n    }\n    fetchResumo();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  if (error) {\n    return (\n      <section className=\"panel\">\n        <h2>Desempenho SLA (MARCOS NASCIMENTO PEDREIRA)</h2>\n        <p>{error}</p>\n      </section>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <section className=\"panel\">\n        <h2>Desempenho SLA (MARCOS NASCIMENTO PEDREIRA)</h2>\n        <div className=\"skeleton shimmer\" />\n      </section>\n    );\n  }\n\n  const resumoCards = [\n    { label: \"Finalizadas\", value: data.finalizadas ?? 0 },\n    { label: \"Não realizadas\", value: data.nao_realizadas ?? 0 },\n    { label: \"Em aberto\", value: data.em_aberto ?? 0 },\n    { label: \"Iniciadas\", value: data.iniciadas ?? 0 }\n  ];\n\n  return (\n    <section className=\"panel\">\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <h2>Desempenho SLA ({DEFAULT_DIRETOR})</h2>\n        {referencia && <span style={{ color: \"var(--text-muted)\", fontSize: \"0.9rem\" }}>Referência: {referencia}</span>}\n      </div>\n      <div className=\"grid cards\">\n        {resumoCards.map((card) => (\n          <div key={card.label} className=\"panel\" style={{ padding: \"1rem\" }}>\n            <p style={{ margin: 0, color: \"var(--text-muted)\", fontSize: \"0.9rem\" }}>{card.label}</p>\n            <strong style={{ fontSize: \"1.6rem\" }}>{card.value}</strong>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;AAsBE;;AApBF;;;AAFA;;AAqBA,MAAM,WACJ,uLAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI,uLAAO,CAAC,GAAG,CAAC,YAAY,IAAI;AACtE,MAAM,kBAAkB;AAET,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,qLAAQ,EAAoB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qLAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qLAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,qLAAQ,EAAgB;IAE5D,IAAA,sLAAS;2CAAC;YACR,IAAI,YAAY;YAChB,eAAe;gBACb,IAAI;oBACF,MAAM,SAAS,IAAI,gBAAgB;wBAAE,mBAAmB;oBAAgB;oBACxE,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,kBAAkB,EAAE,OAAO,QAAQ,IAAI,EAAE;wBAC3E,OAAO;oBACT;oBACA,IAAI,CAAC,IAAI,EAAE,EAAE;wBACX,MAAM,IAAI,MAAM,MAAM,IAAI,IAAI;oBAChC;oBACA,MAAM,UAAyB,MAAM,IAAI,IAAI;oBAC7C,IAAI,CAAC,WAAW;wBACd,QAAQ,QAAQ,IAAI,IAAI;wBACxB,cAAc,QAAQ,OAAO,EAAE,SAAS,QAAQ,OAAO,EAAE,aAAa;wBACtE,aAAa;oBACf;gBACF,EAAE,OAAO,KAAU;oBACjB,IAAI,CAAC,WAAW;wBACd,SACE,KAAK,WACH;wBAEJ,aAAa;oBACf;gBACF;YACF;YACA;YACA;mDAAO;oBACL,YAAY;gBACd;;QACF;0CAAG,EAAE;IAEL,IAAI,OAAO;QACT,qBACE,yMAAC;YAAQ,WAAU;;8BACjB,yMAAC;8BAAG;;;;;;8BACJ,yMAAC;8BAAG;;;;;;;;;;;;IAGV;IAEA,IAAI,WAAW;QACb,qBACE,yMAAC;YAAQ,WAAU;;8BACjB,yMAAC;8BAAG;;;;;;8BACJ,yMAAC;oBAAI,WAAU;;;;;;;;;;;;IAGrB;IAEA,MAAM,cAAc;QAClB;YAAE,OAAO;YAAe,OAAO,KAAK,WAAW,IAAI;QAAE;QACrD;YAAE,OAAO;YAAkB,OAAO,KAAK,cAAc,IAAI;QAAE;QAC3D;YAAE,OAAO;YAAa,OAAO,KAAK,SAAS,IAAI;QAAE;QACjD;YAAE,OAAO;YAAa,OAAO,KAAK,SAAS,IAAI;QAAE;KAClD;IAED,qBACE,yMAAC;QAAQ,WAAU;;0BACjB,yMAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,gBAAgB;oBAAiB,YAAY;gBAAS;;kCACnF,yMAAC;;4BAAG;4BAAiB;4BAAgB;;;;;;;oBACpC,4BAAc,yMAAC;wBAAK,OAAO;4BAAE,OAAO;4BAAqB,UAAU;wBAAS;;4BAAG;4BAAa;;;;;;;;;;;;;0BAE/F,yMAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,qBAChB,yMAAC;wBAAqB,WAAU;wBAAQ,OAAO;4BAAE,SAAS;wBAAO;;0CAC/D,yMAAC;gCAAE,OAAO;oCAAE,QAAQ;oCAAG,OAAO;oCAAqB,UAAU;gCAAS;0CAAI,KAAK,KAAK;;;;;;0CACpF,yMAAC;gCAAO,OAAO;oCAAE,UAAU;gCAAS;0CAAI,KAAK,KAAK;;;;;;;uBAF1C,KAAK,KAAK;;;;;;;;;;;;;;;;AAQ9B;GAhFwB;KAAA"}},
    {"offset": {"line": 226, "column": 0}, "map": {"version":3,"sources":["file:///C:/Bots/Git/envio_sla_vista/frontend/components/HomeContent.tsx"],"sourcesContent":["\"use client\";\n\nimport type { OverviewStats } from \"../lib/api\";\nimport DashboardResumoClient from \"./DashboardResumoClient\";\n\ntype Props = {\n  stats: OverviewStats;\n};\n\nexport default function HomeContent({ stats }: Props) {\n  const cards = [\n    { label: \"Grupos\", value: stats.total_grupos },\n    { label: \"Mensagens ativas\", value: stats.total_mensagens },\n    { label: \"Envios realizados\", value: stats.total_envios }\n  ];\n\n  return (\n    <div className=\"grid\" style={{ gap: \"1.5rem\" }}>\n      <section className=\"panel\">\n        <h2>Resumo rápido</h2>\n        <div className=\"grid cards\">\n          {cards.map((card) => (\n            <div key={card.label} className=\"panel\" style={{ padding: \"1rem\" }}>\n              <p style={{ margin: 0, color: \"var(--text-muted)\", fontSize: \"0.9rem\" }}>{card.label}</p>\n              <strong style={{ fontSize: \"1.8rem\" }}>{card.value}</strong>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      <DashboardResumoClient />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASe,SAAS,YAAY,EAAE,KAAK,EAAS;IAClD,MAAM,QAAQ;QACZ;YAAE,OAAO;YAAU,OAAO,MAAM,YAAY;QAAC;QAC7C;YAAE,OAAO;YAAoB,OAAO,MAAM,eAAe;QAAC;QAC1D;YAAE,OAAO;YAAqB,OAAO,MAAM,YAAY;QAAC;KACzD;IAED,qBACE,yMAAC;QAAI,WAAU;QAAO,OAAO;YAAE,KAAK;QAAS;;0BAC3C,yMAAC;gBAAQ,WAAU;;kCACjB,yMAAC;kCAAG;;;;;;kCACJ,yMAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,yMAAC;gCAAqB,WAAU;gCAAQ,OAAO;oCAAE,SAAS;gCAAO;;kDAC/D,yMAAC;wCAAE,OAAO;4CAAE,QAAQ;4CAAG,OAAO;4CAAqB,UAAU;wCAAS;kDAAI,KAAK,KAAK;;;;;;kDACpF,yMAAC;wCAAO,OAAO;4CAAE,UAAU;wCAAS;kDAAI,KAAK,KAAK;;;;;;;+BAF1C,KAAK,KAAK;;;;;;;;;;;;;;;;0BAQ1B,yMAAC,8JAAqB;;;;;;;;;;;AAG5B;KAxBwB"}}]
}