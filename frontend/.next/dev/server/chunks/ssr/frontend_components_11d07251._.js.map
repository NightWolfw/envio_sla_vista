{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Bots/Git/envio_sla_vista/frontend/components/DashboardResumoClient.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\ntype ResumoData = {\n  finalizadas: number;\n  nao_realizadas: number;\n  em_aberto: number;\n  iniciadas: number;\n};\n\ntype ResumoPayload = {\n  data: ResumoData | null;\n  periodo?: {\n    descricao?: string;\n    inicio?: string;\n    fim?: string;\n    label?: string;\n  };\n};\n\nconst API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE_URL ?? process.env.API_BASE_URL ?? \"http://localhost:5000/api\";\nconst DEFAULT_DIRETOR = \"MARCOS NASCIMENTO PEDREIRA\";\n\nexport default function DashboardResumoClient() {\n  const [data, setData] = useState<ResumoData | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [referencia, setReferencia] = useState<string | null>(null);\n\n  useEffect(() => {\n    let cancelled = false;\n    async function fetchResumo() {\n      try {\n        const params = new URLSearchParams({ diretor_executivo: DEFAULT_DIRETOR });\n        const res = await fetch(`${API_BASE}/dashboard/resumo?${params.toString()}`, {\n          cache: \"no-store\"\n        });\n        if (!res.ok) {\n          throw new Error(await res.text());\n        }\n        const payload: ResumoPayload = await res.json();\n        if (!cancelled) {\n          setData(payload.data ?? null);\n          setReferencia(payload.periodo?.label ?? payload.periodo?.descricao ?? null);\n          setIsLoading(false);\n        }\n      } catch (err: any) {\n        if (!cancelled) {\n          setError(\n            err?.message ??\n              \"Não foi possível carregar os indicadores de SLA. Tente novamente mais tarde.\"\n          );\n          setIsLoading(false);\n        }\n      }\n    }\n    fetchResumo();\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  if (error) {\n    return (\n      <section className=\"panel\">\n        <h2>Desempenho SLA (MARCOS NASCIMENTO PEDREIRA)</h2>\n        <p>{error}</p>\n      </section>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <section className=\"panel\">\n        <h2>Desempenho SLA (MARCOS NASCIMENTO PEDREIRA)</h2>\n        <div className=\"skeleton shimmer\" />\n      </section>\n    );\n  }\n\n  const resumoCards = [\n    { label: \"Finalizadas\", value: data.finalizadas ?? 0 },\n    { label: \"Não realizadas\", value: data.nao_realizadas ?? 0 },\n    { label: \"Em aberto\", value: data.em_aberto ?? 0 },\n    { label: \"Iniciadas\", value: data.iniciadas ?? 0 }\n  ];\n\n  return (\n    <section className=\"panel\">\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\" }}>\n        <h2>Desempenho SLA ({DEFAULT_DIRETOR})</h2>\n        {referencia && <span style={{ color: \"var(--text-muted)\", fontSize: \"0.9rem\" }}>Referência: {referencia}</span>}\n      </div>\n      <div className=\"grid cards\">\n        {resumoCards.map((card) => (\n          <div key={card.label} className=\"panel\" style={{ padding: \"1rem\" }}>\n            <p style={{ margin: 0, color: \"var(--text-muted)\", fontSize: \"0.9rem\" }}>{card.label}</p>\n            <strong style={{ fontSize: \"1.6rem\" }}>{card.value}</strong>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAqBA,MAAM,WACJ,QAAQ,GAAG,CAAC,wBAAwB,IAAI,QAAQ,GAAG,CAAC,YAAY,IAAI;AACtE,MAAM,kBAAkB;AAET,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAoB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6NAAQ,EAAC;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6NAAQ,EAAgB;IAE5D,IAAA,8NAAS,EAAC;QACR,IAAI,YAAY;QAChB,eAAe;YACb,IAAI;gBACF,MAAM,SAAS,IAAI,gBAAgB;oBAAE,mBAAmB;gBAAgB;gBACxE,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,kBAAkB,EAAE,OAAO,QAAQ,IAAI,EAAE;oBAC3E,OAAO;gBACT;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,MAAM,IAAI,MAAM,MAAM,IAAI,IAAI;gBAChC;gBACA,MAAM,UAAyB,MAAM,IAAI,IAAI;gBAC7C,IAAI,CAAC,WAAW;oBACd,QAAQ,QAAQ,IAAI,IAAI;oBACxB,cAAc,QAAQ,OAAO,EAAE,SAAS,QAAQ,OAAO,EAAE,aAAa;oBACtE,aAAa;gBACf;YACF,EAAE,OAAO,KAAU;gBACjB,IAAI,CAAC,WAAW;oBACd,SACE,KAAK,WACH;oBAEJ,aAAa;gBACf;YACF;QACF;QACA;QACA,OAAO;YACL,YAAY;QACd;IACF,GAAG,EAAE;IAEL,IAAI,OAAO;QACT,qBACE,0PAAC;YAAQ,WAAU;;8BACjB,0PAAC;8BAAG;;;;;;8BACJ,0PAAC;8BAAG;;;;;;;;;;;;IAGV;IAEA,IAAI,WAAW;QACb,qBACE,0PAAC;YAAQ,WAAU;;8BACjB,0PAAC;8BAAG;;;;;;8BACJ,0PAAC;oBAAI,WAAU;;;;;;;;;;;;IAGrB;IAEA,MAAM,cAAc;QAClB;YAAE,OAAO;YAAe,OAAO,KAAK,WAAW,IAAI;QAAE;QACrD;YAAE,OAAO;YAAkB,OAAO,KAAK,cAAc,IAAI;QAAE;QAC3D;YAAE,OAAO;YAAa,OAAO,KAAK,SAAS,IAAI;QAAE;QACjD;YAAE,OAAO;YAAa,OAAO,KAAK,SAAS,IAAI;QAAE;KAClD;IAED,qBACE,0PAAC;QAAQ,WAAU;;0BACjB,0PAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,gBAAgB;oBAAiB,YAAY;gBAAS;;kCACnF,0PAAC;;4BAAG;4BAAiB;4BAAgB;;;;;;;oBACpC,4BAAc,0PAAC;wBAAK,OAAO;4BAAE,OAAO;4BAAqB,UAAU;wBAAS;;4BAAG;4BAAa;;;;;;;;;;;;;0BAE/F,0PAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,qBAChB,0PAAC;wBAAqB,WAAU;wBAAQ,OAAO;4BAAE,SAAS;wBAAO;;0CAC/D,0PAAC;gCAAE,OAAO;oCAAE,QAAQ;oCAAG,OAAO;oCAAqB,UAAU;gCAAS;0CAAI,KAAK,KAAK;;;;;;0CACpF,0PAAC;gCAAO,OAAO;oCAAE,UAAU;gCAAS;0CAAI,KAAK,KAAK;;;;;;;uBAF1C,KAAK,KAAK;;;;;;;;;;;;;;;;AAQ9B"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Bots/Git/envio_sla_vista/frontend/components/HomeContent.tsx"],"sourcesContent":["\"use client\";\n\nimport type { OverviewStats } from \"../lib/api\";\nimport DashboardResumoClient from \"./DashboardResumoClient\";\n\ntype Props = {\n  stats: OverviewStats;\n};\n\nexport default function HomeContent({ stats }: Props) {\n  const cards = [\n    { label: \"Grupos\", value: stats.total_grupos },\n    { label: \"Mensagens ativas\", value: stats.total_mensagens },\n    { label: \"Envios realizados\", value: stats.total_envios }\n  ];\n\n  return (\n    <div className=\"grid\" style={{ gap: \"1.5rem\" }}>\n      <section className=\"panel\">\n        <h2>Resumo rápido</h2>\n        <div className=\"grid cards\">\n          {cards.map((card) => (\n            <div key={card.label} className=\"panel\" style={{ padding: \"1rem\" }}>\n              <p style={{ margin: 0, color: \"var(--text-muted)\", fontSize: \"0.9rem\" }}>{card.label}</p>\n              <strong style={{ fontSize: \"1.8rem\" }}>{card.value}</strong>\n            </div>\n          ))}\n        </div>\n      </section>\n\n      <DashboardResumoClient />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASe,SAAS,YAAY,EAAE,KAAK,EAAS;IAClD,MAAM,QAAQ;QACZ;YAAE,OAAO;YAAU,OAAO,MAAM,YAAY;QAAC;QAC7C;YAAE,OAAO;YAAoB,OAAO,MAAM,eAAe;QAAC;QAC1D;YAAE,OAAO;YAAqB,OAAO,MAAM,YAAY;QAAC;KACzD;IAED,qBACE,0PAAC;QAAI,WAAU;QAAO,OAAO;YAAE,KAAK;QAAS;;0BAC3C,0PAAC;gBAAQ,WAAU;;kCACjB,0PAAC;kCAAG;;;;;;kCACJ,0PAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,qBACV,0PAAC;gCAAqB,WAAU;gCAAQ,OAAO;oCAAE,SAAS;gCAAO;;kDAC/D,0PAAC;wCAAE,OAAO;4CAAE,QAAQ;4CAAG,OAAO;4CAAqB,UAAU;wCAAS;kDAAI,KAAK,KAAK;;;;;;kDACpF,0PAAC;wCAAO,OAAO;4CAAE,UAAU;wCAAS;kDAAI,KAAK,KAAK;;;;;;;+BAF1C,KAAK,KAAK;;;;;;;;;;;;;;;;0BAQ1B,0PAAC,2JAAqB;;;;;;;;;;;AAG5B"}}]
}